# 更新日志

## [2.1.1] - 2025-08-30

### 🎉 Vercel构建问题完全解决
- **构建错误修复**: 解决了 `Cannot find module '/vercel/path0/scripts/auto-setup-jwt.js'` 错误
- **简化构建流程**: 移除构建时对本地脚本文件的依赖
- **标准化构建**: 使用标准的 `next build` 命令，提升构建稳定性
- **零依赖部署**: 实现真正的零配置部署体验

### 🚀 部署流程大幅简化
- **运行时JWT生成**: 将JWT密钥生成从构建时移到运行时
- **智能自动检测**: 应用启动时自动检测并生成JWT密钥
- **开箱即用**: 部署完成后无需手动配置即可使用
- **两步部署**: 简化为仅需设置 `OPENAI_API_KEY` 即可完成部署

### 🔧 技术优化
- **环境无关**: 在任何环境中都能正常工作
- **构建稳定性**: 消除了不同环境中的构建差异
- **用户体验**: 大幅提升部署和使用的便利性
- **错误处理**: 增强了JWT生成和验证的错误处理

### 📚 文档更新
- **部署指南**: 更新DEPLOYMENT_GUIDE.md，反映新的简化流程
- **README**: 更新部署说明，突出零配置特性
- **用户指引**: 优化JWT配置说明，强调自动处理机制

## [2.1.0] - 2025-08-30

### 🚀 Node.js 版本升级
- **Node.js 22 支持**: 升级支持 Node.js 18.0.0 - 22.x 版本
- **依赖更新**: 更新所有依赖到最新兼容版本
- **构建优化**: 优化构建过程，提升编译速度
- **类型修复**: 修复 TypeScript 类型错误和编译警告

### ✨ JWT自动初始化
- **自动生成JWT密钥**: 构建时自动生成JWT密钥，无需手动配置
- **智能初始化**: 运行时检测并自动生成缺失的JWT密钥
- **多种配置方式**: 支持自动生成、手动生成、自定义设置三种方式
- **自动初始化页面**: 新增 `/auto-init` 页面，一键完成初始化配置
- **构建时集成**: `npm run build` 自动检查并生成JWT密钥

### 🔧 技术改进
- **JWT生成器**: 完善JWT密钥生成功能和用户界面
- **代码清理**: 移除未使用的变量和导入
- **错误修复**: 修复Link组件使用不当的问题
- **Vercel优化**: 优化Vercel部署配置，避免Edge Runtime限制

## [2.0.0] - 2025-08-09

### 🎯 项目简化重构
- **简化项目结构**: 删除了复杂的Docker部署和多平台支持
- **专注核心功能**: 保留周报生成的核心功能，删除非必要特性
- **统一部署方案**: 仅支持Vercel部署，提供最佳用户体验
- **界面优化**: 删除了不必要的UI元素，保持简洁设计

### ✨ 新增功能
- **调试面板**: 新增 `/debug` 页面，提供系统状态检查
- **健康检查**: 恢复 `/api/health` 端点，用于服务状态监控
- **环境检查**: 集成环境变量和API连接测试

### 🗑️ 删除功能
- 删除了所有Docker相关配置和脚本
- 删除了Railway、Render等多平台部署支持
- 删除了复杂的部署文档和脚本
- 删除了不必要的测试和调试文件

### 📚 文档更新
- 简化了README.md，专注于Vercel部署
- 恢复了隐私政策和使用指南
- 整合了使用说明到主文档中

## [1.5.0] - 2024-11-XX

### ✨ 新特性
- 🔄 **多API源支持**: 支持 OpenAI、DeepSeek、Moonshot、智谱AI 等多种 API 源
- 🌐 **环境变量配置**: 通过环境变量灵活配置 API 源和模型
- 🚀 **Node.js 22 支持**: 升级到最新的依赖和 Node.js 版本
- ☁️ **Vercel 优化**: 保持完美的 Vercel 部署兼容性
- 🛡️ **错误处理**: 增强的错误处理和超时控制
- 📝 **TypeScript**: 完整的 TypeScript 支持

### 🔧 技术改进
- 升级了所有依赖到最新版本
- 优化了API调用逻辑
- 改进了错误处理机制
- 增强了类型安全

## [1.0.0] - 2023-XX-XX

### 🎉 首次发布
- **核心功能**: 基于GPT的周报生成功能
- **多语言支持**: 支持中文和英文界面
- **响应式设计**: 适配桌面和移动设备
- **实时生成**: 流式输出，实时显示生成过程
- **Markdown支持**: 支持Markdown格式输出
- **Vercel部署**: 一键部署到Vercel平台

### 🔧 支持的API源
- OpenAI GPT-3.5/GPT-4
- 自定义API端点支持

### 📱 界面特性
- 简洁的用户界面
- 实时Markdown渲染
- 复制功能
- 响应式布局

---

## 版本说明

- **主版本号**: 重大功能变更或架构调整
- **次版本号**: 新功能添加
- **修订版本号**: Bug修复和小改进

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目！