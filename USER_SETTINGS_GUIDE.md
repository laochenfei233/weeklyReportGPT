# 🎨 用户设置功能指南

## 功能概述

新增的用户设置页面允许用户个性化定制周报生成体验，包括显示设置、回答风格和自定义AI模型配置。

## 🎯 主要功能

### 1. 显示设置

#### 字体大小
- **小号**: 适合信息密集的显示
- **中号**: 默认大小，平衡可读性和信息密度
- **大号**: 提高可读性，适合大屏幕或视力需求

#### 语言设置
- **中文**: 中文界面和提示
- **English**: 英文界面和提示

### 2. 回答风格

#### 专业正式
- 使用正式的商务语言
- 适合企业环境和正式报告

#### 轻松随意
- 使用轻松友好的语调
- 适合团队内部交流

#### 详细完整
- 提供详细的描述和分析
- 适合需要深入说明的场景

#### 简洁明了
- 简洁扼要，突出重点
- 适合快速浏览和概览

### 3. 自定义模型配置

#### 支持的API提供商
- **OpenAI**: GPT-3.5, GPT-4 系列
- **DeepSeek**: DeepSeek Chat, DeepSeek Coder
- **Moonshot**: Moonshot v1 8K, 32K
- **智谱AI**: GLM-4 系列
- **自定义**: 任何兼容OpenAI格式的API

#### 配置选项
- **API基础URL**: 自定义API服务地址
- **模型名称**: 选择或输入自定义模型
- **API密钥**: 使用自己的API密钥

## 🚀 使用方法

### 访问设置页面
1. 点击页面右上角的"设置"按钮
2. 或直接访问 `/settings` 路径

### 配置步骤

#### 1. 显示设置
- 选择合适的字体大小
- 选择界面语言

#### 2. 回答风格
- 根据使用场景选择合适的风格
- 可以在预览区域查看效果

#### 3. 自定义配置（可选）
- 勾选"使用自定义配置"
- 填写API基础URL和密钥
- 选择或输入模型名称
- 点击"测试配置"验证设置

#### 4. 保存设置
- 点击"保存设置"按钮
- 设置会自动保存到本地浏览器

## 🔒 隐私和安全

### 本地存储
- 所有设置保存在浏览器本地存储中
- 不会上传到服务器
- 清除浏览器数据会重置设置

### API密钥安全
- 自定义API密钥仅在本地使用
- 不会被服务器记录或存储
- 建议使用专门的API密钥

## 📱 功能特性

### 实时预览
- 字体大小设置有实时预览
- 回答风格说明清晰易懂

### 配置测试
- 自定义配置可以测试连接
- 验证API密钥和模型可用性

### 设置同步
- 设置在同一浏览器中全局生效
- 支持重置到默认设置

## 🛠️ 技术实现

### 前端
- React Hook 状态管理
- localStorage 本地存储
- 响应式设计适配

### 后端
- 新增 `/api/test-config` 端点
- 支持自定义API配置
- 增强的错误处理

### 集成
- 与现有生成API无缝集成
- 保持向后兼容性
- 优雅降级处理

## 🎯 使用场景

### 个人用户
- 根据个人喜好调整显示
- 使用自己的API密钥节省成本

### 企业用户
- 统一的专业风格设置
- 自定义企业内部AI服务

### 开发者
- 测试不同的AI模型
- 集成自定义AI服务

## 🔧 故障排除

### 设置不生效
1. 检查浏览器是否支持localStorage
2. 清除浏览器缓存后重新设置
3. 确保JavaScript已启用

### 自定义配置失败
1. 验证API密钥格式正确
2. 检查API基础URL是否可访问
3. 确认模型名称正确

### 语言切换问题
1. 保存设置后会自动刷新页面
2. 确保选择的语言已支持
3. 检查浏览器语言设置

## 📈 未来计划

### 即将推出
- 更多AI服务提供商支持
- 主题颜色自定义
- 导出/导入设置功能

### 长期规划
- 云端设置同步
- 团队设置共享
- 高级个性化选项

---

**提示**: 设置页面提供了丰富的自定义选项，建议根据实际使用需求进行配置，以获得最佳的使用体验。